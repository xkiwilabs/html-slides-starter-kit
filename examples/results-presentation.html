<!DOCTYPE html>
<!--
  ============================================================
  RESULTS PRESENTATION — Tabbed Figures Example
  ============================================================

  A single-slide results presentation with tabbed figure panels
  and annotation text — the kind you'd present in a 3-minute
  lightning talk or lab presentation.

  Uses the light theme (white background, clean academic style).

  HOW TO USE:
  1. Generate your figures in Python (matplotlib, seaborn, etc.)
     and save them as PNG or SVG
  2. Replace the placeholder images in each tab-panel
  3. Update the annotations in the right column
  4. Click the tabs to switch between figures during your talk

  For base64 embedding (no external files needed):
    import base64
    with open("figure.png", "rb") as f:
        b64 = base64.b64encode(f.read()).decode()
    print(f'<img src="data:image/png;base64,{b64}">')

  ============================================================
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Results Presentation — Tabbed Figures</title>

  <!-- reveal.js from CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/white.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Light theme -->
  <link rel="stylesheet" href="../css/light-theme.css">

  <style>
    /* Override theme section padding to fit more content */
    .reveal .slides section {
      padding: 28px 50px;
    }

    /* ===== Results Slide Layout ===== */
    .results-layout {
      display: flex;
      flex-direction: column;
      height: 100%;
      transform: scale(0.88);
      transform-origin: top center;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .results-header .meta {
      text-align: right;
      font-size: 0.55em;
      color: var(--theme-grey);
      white-space: nowrap;
    }

    .results-header .course-code {
      display: inline-block;
      background: var(--theme-primary);
      color: white;
      padding: 0.12em 0.6em;
      border-radius: 4px;
      font-size: 0.45em;
      font-weight: 600;
      letter-spacing: 0.05em;
      margin-bottom: 4px;
    }

    .results-header h1 {
      font-size: 1.35em;
      margin-bottom: 2px;
    }

    .results-header .subtitle {
      font-size: 0.55em;
      color: var(--theme-grey);
      font-weight: 300;
      margin: 0;
    }

    /* ===== Two-column body ===== */
    .results-body {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 24px;
      flex: 1;
      min-height: 0;
    }

    /* ===== Tab Navigation ===== */
    .tab-bar {
      display: flex;
      gap: 4px;
      margin-bottom: 8px;
    }

    .tab-btn {
      padding: 6px 16px;
      border: 2px solid var(--theme-light-grey);
      border-radius: 8px 8px 0 0;
      background: var(--theme-light-grey);
      color: var(--theme-grey);
      font-family: var(--theme-font-main);
      font-size: 0.6em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      border-bottom: 2px solid transparent;
    }

    .tab-btn:hover {
      background: white;
      color: var(--theme-charcoal);
    }

    .tab-btn.active {
      background: white;
      color: var(--theme-primary);
      border-color: var(--theme-primary);
      border-bottom-color: white;
    }

    /* Colour variants for tabs */
    .tab-btn[data-color="blue"].active { color: var(--theme-blue); border-color: var(--theme-blue); border-bottom-color: white; }
    .tab-btn[data-color="green"].active { color: var(--theme-green); border-color: var(--theme-green); border-bottom-color: white; }
    .tab-btn[data-color="orange"].active { color: var(--theme-orange); border-color: var(--theme-orange); border-bottom-color: white; }
    .tab-btn[data-color="purple"].active { color: var(--theme-purple); border-color: var(--theme-purple); border-bottom-color: white; }
    .tab-btn[data-color="red"].active { color: #E74C3C; border-color: #E74C3C; border-bottom-color: white; }

    /* ===== Tab Panels ===== */
    .tab-panels {
      flex: 1;
      position: relative;
      min-height: 0;
    }

    .tab-panel {
      display: none;
      height: 100%;
      flex-direction: column;
    }

    .tab-panel.active {
      display: flex;
    }

    .tab-panel img {
      width: 100%;
      flex: 1;
      object-fit: contain;
      border-radius: 8px;
      background: var(--theme-light-grey);
      border: 1px solid #e0e0e0;
    }

    .tab-panel .fig-caption {
      font-size: 0.45em;
      color: var(--theme-grey);
      margin-top: 6px;
      text-align: center;
      line-height: 1.3;
    }

    /* ===== Right Column: Annotations ===== */
    .annotations {
      display: flex;
      flex-direction: column;
      gap: 8px;
      justify-content: stretch;
    }

    .annotation-box {
      background: var(--theme-light-grey);
      border-radius: 8px;
      padding: 10px 16px;
      border-left: 4px solid var(--theme-grey);
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .annotation-box h3 {
      font-size: 0.72em;
      margin: 0 0 4px 0;
    }

    .annotation-box p {
      font-size: 0.63em;
      margin: 0;
      color: var(--theme-grey);
      line-height: 1.4;
    }

    .annotation-box.blue { border-left-color: var(--theme-blue); }
    .annotation-box.blue h3 { color: var(--theme-blue); }

    .annotation-box.gold { border-left-color: var(--theme-gold); }
    .annotation-box.gold h3 { color: var(--theme-gold); }

    .annotation-box.green { border-left-color: var(--theme-green); }
    .annotation-box.green h3 { color: var(--theme-green); }

    .annotation-box.purple { border-left-color: var(--theme-purple); }
    .annotation-box.purple h3 { color: var(--theme-purple); }

    .annotation-box.red { border-left-color: #E74C3C; }
    .annotation-box.red h3 { color: #E74C3C; }

    /* ===== Key Finding Footer ===== */
    .key-finding {
      background: rgba(200, 151, 44, 0.1);
      border-left: 4px solid var(--theme-gold);
      border-radius: 0 8px 8px 0;
      padding: 10px 20px;
      margin-top: 10px;
      font-size: 0.72em;
      line-height: 1.4;
    }

    .key-finding strong {
      color: var(--theme-gold);
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

      <section>
        <div class="results-layout">

          <!-- Header -->
          <div class="results-header">
            <div>
              <!-- REPLACE: Your course tag -->
              <div class="course-code">PSYC4411</div>
              <!-- REPLACE: Your title -->
              <h1>Lifestyle Factors and Depression</h1>
              <p class="subtitle">Exploring key relationships in a simulated lifestyle &amp; mental health dataset (N = 3,000)</p>
            </div>
            <div class="meta">
              <!-- REPLACE: Your name and details -->
              Example Group<br>Week 2 Challenge Lab<br>Semester 1, 2026
            </div>
          </div>

          <!-- Two-column body: figures left, annotations right -->
          <div class="results-body">

            <!-- Left: Tabbed figures -->
            <div style="display: flex; flex-direction: column; min-height: 0;">

              <!-- Tab buttons -->
              <div class="tab-bar">
                <button class="tab-btn active" data-tab="fig-a" data-color="blue">Notebook</button>
                <button class="tab-btn" data-tab="fig-b" data-color="green">Script</button>
                <button class="tab-btn" data-tab="fig-c" data-color="orange">Exploration</button>
                <button class="tab-btn" data-tab="fig-d" data-color="purple">Bonus</button>
              </div>

              <!-- Tab panels -->
              <div class="tab-panels">
                <div class="tab-panel active" id="fig-a">
                  <!-- Notebook workflow: 2x2 scatter plots -->
                  <img src="../img/our_visualisation.png" alt="2x2 scatter plot grid from notebook workflow">
                  <p class="fig-caption">Notebook workflow — 2&times;2 scatter plots with trend lines and r values</p>
                </div>

                <div class="tab-panel" id="fig-b">
                  <!-- Script workflow: scatter + violin by gender -->
                  <img src="../img/depression_by_gender.png" alt="2x3 scatter and violin plot grid from script workflow">
                  <p class="fig-caption">Script workflow — 2&times;3 scatter + violin plots split by gender</p>
                </div>

                <div class="tab-panel" id="fig-c">
                  <!-- Exploration: correlation heatmap -->
                  <img src="../img/correlation_heatmap.png" alt="Correlation heatmap of all numeric variables">
                  <p class="fig-caption">Data exploration — correlation heatmap showing which variables relate to depression</p>
                </div>

                <div class="tab-panel" id="fig-d">
                  <!-- Bonus: group comparison violin plots -->
                  <img src="../img/bonus_group_comparison.png" alt="Violin plots comparing depression by occupation group">
                  <p class="fig-caption">Bonus — depression scores by occupation group (students had highest scores)</p>
                </div>
              </div>

            </div>

            <!-- Right: Annotation boxes -->
            <div class="annotations">
              <div class="annotation-box blue">
                <h3>Our Approach</h3>
                <p>Started by exploring the data — a correlation heatmap showed sleep, study hours, and exercise had the strongest associations with DASS Depression scores. Used these to plan a focused 2&times;2 scatter plot figure.</p>
              </div>

              <div class="annotation-box gold">
                <h3>Key Finding</h3>
                <p>Sleep was the strongest predictor (r = &minus;0.37). Study hours showed an unexpected positive association (r = +0.36) — possibly reflecting academic stress. Exercise was protective (r = &minus;0.27).</p>
              </div>

              <div class="annotation-box green">
                <h3>What We Learned About Prompting</h3>
                <p>Exploring the data first made our prompts much more specific — we could name variables, expected relationships, and the DASS-21 score range. This produced working code on the first attempt.</p>
              </div>

              <div class="annotation-box purple">
                <h3>Notebook vs Scripts</h3>
                <p>Notebooks were better for exploration (seeing results after each cell). Scripts were cleaner for the final product. Splitting into explore + visualise scripts mirrored real data science workflows.</p>
              </div>

              <div class="annotation-box red">
                <h3>Bonus Challenges</h3>
                <p>Extended the analysis with occupation-based violin plots — students had markedly higher depression (M = 20.3 vs 8.7 for full-time employed). The exploration step made bonus tasks easier to plan.</p>
              </div>
            </div>

          </div>

          <!-- Key Finding -->
          <div class="key-finding">
            <strong>Key finding:</strong> Sleep duration and study hours were the strongest independent lifestyle predictors of depression scores, even after accounting for exercise, social media use, and caffeine intake. Students had the highest depression scores by occupation group.
          </div>

        </div>
      </section>

    </div>
  </div>

  <!-- reveal.js -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      slideNumber: 'c/t',
      width: 1920,
      height: 1080,
      margin: 0.04,
      transition: 'slide',
      transitionSpeed: 'default',
      center: false,
      pdfSeparateFragments: false
    });

    // Tab switching logic
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const tabId = btn.dataset.tab;

        // Update buttons
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        // Update panels
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
      });
    });
  </script>
</body>
</html>
